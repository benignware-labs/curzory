!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.curzory=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./lib/CursorManager"),e=a("./lib/Cursor");cursorManager=new d,b.exports=function(a,b){var c=new e(a,b);return cursorManager.add(c),c}},{"./lib/Cursor":2,"./lib/CursorManager":3}],2:[function(a,b,c){var d=function(){for(var a,b={},c=0,d=arguments.length;d>c;c++)for(a in arguments[c])arguments[c].hasOwnProperty(a)&&(b[a]=arguments[c][a]);return b},e=function(a){var b=document.createElement("div");b.innerHTML=a;var c=b.firstChild;return b.removeChild(c),c},f=function(a){return"string"==typeof a&&a.match(/<\/?\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>/)};b.exports=function(a,b){function c(a,c){var g;"object"==typeof a?g=a:(g={},g[a]=c);for(a in g){switch(c=g[a],a){case"element":case"symbol":f(c)&&(c=e(c))}g[a]=c}b=d(b,g)}this.set=function(){c.call(this,arguments),cursorManager.update()},this.get=function(c){var d;if(c){switch(d=b[c],c){case"element":case"symbol":case"bounds":case"target":d=d&&d.toArray?d.toArray()[0]:d instanceof Array?d[0]:d,d="string"==typeof d?(a||document).querySelector(d):d}switch(c){case"symbol":d=d||this.get("element");break;case"bounds":d=d?d:b.symbol?this.get("element"):this.get("element").offsetParent}}else{d={};for(var e in b)d[e]=this.get(e)}return d},c(d({element:null,offset:{left:8,top:6},style:"transform",scale:1,bounds:null,symbol:null,target:null,hideOnFocus:!1},b,{element:a}))}},{}],3:[function(a,b,c){function d(a){function b(){"ontouch"in window||o(window)}function c(a){try{a.type}catch(a){return}switch(a.type){case"mousedown":w=!1;break;case"mouseout":var b="undefined"!=typeof a.toElement?a.toElement:a.relatedTarget;null===b&&(s.x=-(1/0),s.y=-(1/0),s.element=null);break;case"mousemove":r.x=a.clientX,r.y=a.clientY;default:var c=l();s.x=r.x+c.left,s.y=r.y+c.top,s.element=a.target}switch(d.call(this),a.type){case"click":!w&&v&&s.element&&v&&v.target&&v.symbol!==s.element&&i(v.container,s.element)&&(w=!0,v.target.click())}g.call(n)}function d(){u=q.map(function(a,b){return e(a,u[b])}),v=u.filter(function(a,b){var c=s.element,d=a.symbol,e=a.bounds,g=a.container,h=!1;return c&&d!==c&&f(c,d)===d&&(g===c||i(g,c))&&(h=s.x>=e.x&&s.x<=e.x+e.width&&s.y>=e.y&&s.y<=e.y+e.height),h}).sort(function(a,b){var c=f(a.symbol,b.symbol);if(c===a.symbol)return a;if(c===b.symbol)return b;var d={x:a.x+a.width/2,y:a.y+a.height/2},e={x:b.x+b.width/2,y:b.y+b.height/2},g=Math.sqrt(Math.pow(d.x-s.x,2)+Math.pow(d.y-s.y,2)),h=Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2));return h>g?g:g>h?h:0}).reverse()[0],m([window].concat(u.map(function(a){return a.container})))}function g(){if(u.forEach(function(a){a!==v&&j(a.symbol,{display:"none"})}),v){var a=v.symbol,b={display:"inline-block",position:"absolute"};b[h]="",b[h+"Origin"]="",j(a,b);var c=k(a),d=c.left,e=c.top,f=v.offset,g=Math.round(s.x-d+f.left),i=Math.round(s.y-e+f.top);b={},"transform"===v.style&&h?(b[h+"Origin"]="0 0",b[h]="translate3d("+g+"px,"+i+"px, 0) scale("+v.scale+","+v.scale+")"):(b.left=g+c.left+"px",b.top=i+c.top+"px"),j(a,b)}}function m(a){a=a.filter(function(a){return a}),x.forEach(function(b){-1===a.indexOf(b)&&p(b)}),a.forEach(function(a){-1===x.indexOf(a)&&o(a)}),x=a}function o(a){for(var b,d=0;b=t[d];d++)a.addEventListener(b,c)}function p(a){for(var b,d=0;b=t[d];d++)a.removeEventListener(b,c)}if(n)return n.set(a),n;n=this;var q=[],r={x:0,y:0},s={x:-(1/0),y:-(1/0),element:null},t=["mousedown","click","scroll","resize","mousemove","mouseout"],u=[],v=null,w=!1;this.update=function(){d.call(this),g.call(this)},this.add=function(a){-1===q.indexOf(a)&&(q.push(a),this.update())},this.remove=function(a){q.splice(q.indexOf(a),1),this.update()};var x=[];b.call(this)}function e(a){var b,c,d,e,f,g,h,i=a.get("element");j(i,{display:""}),b=a.get(),c=b.symbol,d=b.bounds,f=b.offset,g=b.style,h=b.scale,c.parentNode||i.appendChild(c);var e;if(d&&d.getBoundingClientRect)e=d,d=m(d);else{e=c.offsetParent||i;var l=m(e),n=k(e)||{x:0,y:0};"function"==typeof d&&(d=d(e));var o="string"==typeof d.x&&d.x.indexOf("%")>=0?parseFloat(d.x)*l.width/100:parseFloat(d.x),p="string"==typeof d.y&&d.y.indexOf("%")>=0?parseFloat(d.y)*l.height/100:parseFloat(d.y),q="string"==typeof d.width&&d.width.indexOf("%")>=0?parseFloat(d.width)*l.width/100:parseFloat(d.width),r="string"==typeof d.height&&d.height.indexOf("%")>=0?parseFloat(d.height)*l.height/100:parseFloat(d.height);d={x:n.left+o,y:n.top+p,width:q,height:r}}var s=b.target||"a"===c.nodeName.toLowerCase()?c:i;return{cursor:a,symbol:c,bounds:d,container:e,target:s,offset:f,style:g,scale:h}}var f=a("./topmost"),g=function(){var a={};return function(b){return a[b]=a[b]||function(){return b.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}()}}(),h=function(a,b){var c,d=document.createElement("div"),e=a.charAt(0).toUpperCase()+a.slice(1);for(c=0;c<b.length;c++)if("undefined"!=typeof d.style[b[c]+e])return b[c]+e;return null}("transform",["","Moz","Webkit","O","Ms"]),i=function(a,b){if(!b||!a)return!1;for(var c=b.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1},j=function(a,b,c){var d={},e=null;"object"==typeof b?d=b:"undefined"!=typeof c&&(d[b]=c);var f=Object.keys(d);return f=f.filter(function(b,c){return""===d[b]?(a.style[b]=d[b],!1):!0}),e=f.map(function(a){return g(a)+": "+d[a]}).join("; "),e&&e.length?(a.style.cssText=a.style.cssText+e,null):a.style[b]||window.getComputedStyle(a,null).getPropertyValue(b)},k=function(a){var b=l(),c=a.getBoundingClientRect();document.body;return{top:c.top+b.top,left:c.left+b.left}},l=function(){return{left:document.body.scrollLeft+document.documentElement.scrollLeft,top:document.body.scrollTop+document.documentElement.scrollTop}},m=function(a){if(!a)return{x:-(1/0),y:-(1/0),width:1/0,height:1/0};var b=l(),c=a.getBoundingClientRect();return{x:c.left+b.left,y:c.top+b.top,width:c.width,height:c.height}},n=null;b.exports=d},{"./topmost":4}],4:[function(a,b,c){function d(a){var b=new Array;for(b.unshift(a);b[0].parentNode;)b.unshift(b[0].parentNode);return b}function e(a){for(var b=0;b<a.length;b++){var c=a[b];if(void 0!==c.style){var d=h(c,"position");if("static"!==d){var e=h(c,"zIndex");if(!isNaN(e)&&""!==e&&"auto"!==e)return e}}}return void 0}function f(a,b){for(var c,d=0;d<a.length;d++)a[d]==b[d]&&(c=a[d]);return c}function g(a,b){var c=d(a),g=d(b),h=e(c),i=e(g);if(h>i||!isNaN(h)&&isNaN(i))return a;if(i>h||!isNaN(i)&&isNaN(h))return b;var j=f(c,g);if(!j)return a;if(j==a)return b;if(j==b)return a;for(var k,l=0;l<c.length;l++)if(c[l]==j){k=l;break}for(var m=j.childNodes.length;m>=0;m--){if(c[k+1]==j.childNodes[m])return a;if(g[k+1]==j.childNodes[m])return b}}var h=function(a,b){return a.currentStyle?a.currentStyle[b]:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,"")[b]:a.style[b]};b.exports=g},{}]},{},[1])(1)});